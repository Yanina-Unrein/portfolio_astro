---
import { EXPERIENCE } from "../data/experience";
import ExperienceItems from "./ExperienceItems.astro";
---

<section id="experiencia" class="experience-section">
    <div class="title-container">
        <h2 class="title">Experiencia</h2>
    </div>
    <ol class="timeline">
        {
            EXPERIENCE.map((experience) =>
                <li class="item-experience">
                  <ExperienceItems {...experience} />  
                </li>
        )
        }   
    </ol>
</section>


<script type="text/javascript">
    document.addEventListener('DOMContentLoaded', () => {
      gsap.registerPlugin(ScrollTrigger);

      gsap.from(['.title'], {
        opacity: 0,
        y: 50,
        ease: 'power2',
        duration: 1.2,
        stagger: 0.2,
        scrollTrigger: {
          trigger: '#proyectos',
          start: 'top 70%',
          end: 'bottom top',
        },
      });

      gsap.from('.timeline', {
        opacity: 0,
        y: 100,
        ease: 'power3',
        duration: 1.5,
        stagger: 0.3,
        scrollTrigger: {
          trigger: '#proyectos',
          start: 'top 70%',
          end: 'bottom top',
        },
      });
    });
  </script>

<style>
    .experience-section{
        padding: 30px 20px;  
        background-color: #13151a;
    }
    .timeline {
        position: relative;
        border-left: 2px solid #8c9094; 
        margin: 0;
        list-style: none;
    }

    .title-container{
        padding: 30px 0;
    }
    .title{
        font-size: 2rem;
        padding: 20px 0;
        display: inline-block;
        position: relative;
        color: #fff;
    }

    .title::before {
        content: '';
        position: absolute;
        bottom: 0.80px; 
        left: 0;
        width: 25%; 
        border-bottom: 4px solid #F9C1DC; 
        white-space: nowrap; 
    }

    .item-experience{
        position: relative;
        margin-bottom: 2rem; /* Ajusta el espaciado seg√∫n sea necesario */
    }
    
    @media(min-width:768px){
        .experience-section{
            padding: 80px;
        }
    }

    @media(min-width:1024px){
        .experience-section{
            padding: 80px 150px;
        }
    }
</style>